\chapter{Conclusion and Future Work}
Turning back to the problem statement introduced in Section~\ref{sec:problem_statement}, we now consider how well the project answers the questions therein.

\section{Back to the Problem Statement}

\paragraph\ The first question:
\begin{quote}
	\textit{What are the minimum requirements for running peer-to-peer Matrix on Android?}
\end{quote}
From our implementation, we determine that the minimum requirements for running peer-to-peer Matrix on Android are \textit{implementing the Matrix client and server \ac{API}s in a single application, where the server \ac{API}s include peer-to-peer networking}.
Given the current state of the ecosystem, this task is becoming less and less difficult.

In order to determine this, we accomplished the following:
\begin{itemize}
	\item{
	      \textbf{Contribute to Dendrite}:
	      As a result of our contribution described in Section~\ref{sec:preparing_dendrite}, an updated peer-to-peer Dendrite demo is now hosted in the main version of Dendrite at \github{matrix-org/dendrite}.
	      }
	\item{
	      \textbf{Port Dendrite using Gomobile}:
	      We cross-compiled Dendrite for a mobile phone, revealing a bug in the Dendrite code as a consequence.
	      }
	\item{
	      \textbf{Modify Riot to run Dendrite}:
	      We modified a Matrix client to run Dendrite.
	      }
\end{itemize}

\paragraph\ The second question:
\begin{quote}
	\textit{How well does such a solution respect mobile constraints?}
\end{quote}

We evaluated the solution with regard to two mobile constraints in Chapter~\ref{chp:a_critical_evaluation}.
The solution works well with battery lfie and limited storage space given two limitations: The user does not participate in large chat rooms, and limits the use of space intensive media, such as voice snippets, images, video or large files.
We say \textit{large} chat rooms being well aware that it is a loose term, as the user may act with a relatively large degree of freedom in this matter.
The larger the rooms the user participates in, the higher the chance that the user runs out of space.
In Section~\ref{sec:fog_computing}, we suggest an alternative method: fog computing.
This solution allows similar functionality without sacrificing space, and may improve the energy consumption vs\@. an app that uses a centralized server.

\paragraph\ The third question:
\begin{quote}
	\textit{What are the properties of a competitive solution, with regard to walled garden alternatives?}
\end{quote}

A competitive solution would likely need the following features, which we did not implement:
\begin{itemize}
	\item{
	      \textbf{Federation with Centralized Servers}:
	      Federating with non-P2P Matrix servers.
	      The main issue with this strategy is that the current Matrix standard requires a DNS entry, which is not tractable for peer-to-peer servers.
	      }
	\item{
	      \textbf{Internet Peer-to-Peer}:
	      We currently only support peer discovery on the devices' own network.
	      A complete solution would support communication across a larger network, such as the internet.
	      }
	\item{
	      \textbf{Thin Client-Server API}:
	      In Section~\ref{subsec:combined_client_server}, we describe an improved design for a combined client and server application.
	      The Client-Server API is designed to be flexible, but we don't need that flexibility.
	      Instead of spending resources on HTTP requests, we could allow the client and server to communicate more directly.
	      }
\end{itemize}

\section{Future Work}
As described in Section~\ref{sec:fog_computing} and the conclusion, fog computing may be a viable approach to providing peer-to-peer Matrix to mobile devices.
The main drawback to this approach is the complexity of setting it up, in addition to the necessary skills for appropriate maintenance and security.
It may be interesting to look into how this process can be made simple and straightforward for the average user, for example by creating a device which just needs to be plugged in, and receives secure updates.

Alternatively, strategies for peer-to-peer computing in the cloud may also be a fruitful approach, and looking into strategies for implementing that effectively is also an interesting area of study.
Specifically, working on the limitations in the Matrix Specification described in Section~\ref{subsec:matrix_spec_changes}.